<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: Installation
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Installation";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: Installation</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="installation">Installation</h1>

<p>Systemvoraussetzungen: </p>

<ul>
<li>ruby</li>
<li>docker</li>
<li>docker-compose</li>
</ul>

<p>Bevor das Dashboard gestartet werden kann, muss es konfiguriert werden.</p>

<ul>
<li><code>env.template.rb</code> als <code>env.rb</code> speichern und Werte anpassen</li>
<li><code>src/ruby/credentials.template.rb</code> als <code>src/ruby/credentials.rb</code> speichern und Werte anpassen</li>
</ul>

<p>Es reicht für einen ersten Test, die Dateien so zu lassen, wie sie sind.</p>

<p>Das Skript <code>config.rb</code> ist ein Wrapper um <code>docker-compose</code>, der <code>docker-compose.yaml</code> erzeugt und dann <code>docker-compose</code> mit den angegebenen Argumenten aufruft.</p>

<h2 id="bauen-der-docker-images">Bauen der Docker-Images</h2>

<pre class="code ruby"><code class="ruby">$ ./config.rb build
</code></pre>

<h2 id="start-des-systems">Start des Systems</h2>

<pre class="code ruby"><code class="ruby">$ ./config.rb up
</code></pre>

<p>Das Dashboard kann nun unter <a href="http://localhost:8025">http://localhost:8025</a> aufgerufen werden. Da es in den mitgelieferten Beispieldaten schon einen Lehrer gibt, kann man sich nun anmelden als <code>clarke@beispielschule.de</code>. Da standardmäßig kein E-Mail-Server konfiguriert ist, muss man den Zahlencode aus den Logs holen:</p>

<pre class="code ruby"><code class="ruby">ruby_1            | !!!!! clarke@beispielschule.de =&gt; 224529 !!!!!
ruby_1            | Cannot send e-mail in DEVELOPMENT mode, continuing anyway:
ruby_1            | getaddrinfo: Name does not resolve
</code></pre>

<p>Der Stundenplan ist momentan noch leer und muss einfach mit folgendem Befehl befüllt werden:</p>

<pre class="code ruby"><code class="ruby">$ cd src/scripts
$ ./update-timetables.rb
</code></pre>

<p>In den Logs kann man beobachten, wie die Stundenpläne geschrieben werden. Dabei wird für jeden Nutzer und jede Woche eine Datei geschrieben, die der Browser später lädt, um die aktuellen Daten anzuzeigen.</p>
</div></div>

      <div id="footer">
  Generated on Wed Feb  3 14:38:57 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>